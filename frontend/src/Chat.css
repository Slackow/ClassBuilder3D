/* src/Chat.css */

/* Optional: Apply a modern base font if not set globally */
/* body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
} */

body.menu-open-no-scroll, 
html.menu-open-no-scroll {
  overflow: hidden; 
}

.chat-page-wrapper {
  width: 100%;
  height: 100%;
  position: relative; 
}

.chat-fullscreen-container {
  position: fixed; 
  top: 0;         
  left: 0;        
  width: 100vw;   
  height: 100vh;  
  z-index: 100; 
  /* Slightly lighter dark for less harshness */
  background-color: #1f1f1f; 
  color: #e0e0e0; /* Light grey text for readability */            
  padding: 25px; /* Consistent padding */             
  box-sizing: border-box;   
  overflow-y: auto;          
  opacity: 0;
  animation: chatContainerFadeIn 0.5s ease-out forwards;
  transition: filter 0.4s cubic-bezier(0.4, 0, 0.2, 1); /* Smoother transition */
}

.chat-page-wrapper.menu-is-open .chat-fullscreen-container {
  filter: blur(6px) brightness(0.8); /* Add brightness reduction for depth */
}

@keyframes chatContainerFadeIn {
  to {
    opacity: 1;
  }
}

.chat-fullscreen-container h1 {
  margin-top: 10px; 
  text-align: center; 
  font-weight: 600; /* Semi-bold */
  color: #ffffff;
  letter-spacing: 0.5px;
}

/* --- Select Major Button --- */
.select-major-button {
  position: fixed;
  top: 25px; /* Slightly more space from top */
  right: 30px; /* Slightly more space from right */
  padding: 9px 18px; /* Adjusted padding */
  /* Semi-transparent dark instead of white */
  background-color: rgba(40, 40, 40, 0.8); 
  backdrop-filter: blur(5px); /* Blur effect on the button itself */
  -webkit-backdrop-filter: blur(5px);
  color: #e0e0e0; /* Light text */
  border: 1px solid rgba(255, 255, 255, 0.15); /* Subtle border */
  border-radius: 8px; /* Less rounded, more modern */
  cursor: pointer;
  font-size: 0.85rem; /* Slightly smaller */
  font-weight: 500;
  z-index: 119; 
  transition: all 0.25s ease-out; /* Smoother transition for all properties */
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
}

.select-major-button:hover {
  background-color: rgba(55, 55, 55, 0.9);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px); /* Lift effect */
  box-shadow: 0 5px 12px rgba(0, 0, 0, 0.4);
}

/* --- Menu Backdrop Blur --- */
.menu-backdrop-blur {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  /* Darker overlay for better contrast with white text menu */
  background-color: rgba(0, 0, 0, 0.3); 
  backdrop-filter: blur(5px); /* Increased blur slightly */
  -webkit-backdrop-filter: blur(5px); 
  z-index: 115; 
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease-in-out, visibility 0s linear 0.4s; 
}

.menu-backdrop-blur.open {
  opacity: 1;
  visibility: visible;
  transition: opacity 0.4s ease-in-out, visibility 0s linear 0s;
}

/* --- Major Selection Menu --- */
.major-menu {
  position: fixed;
  top: 0;
  right: 0; 
  width: 50%; 
  max-width: 400px; /* Slightly smaller max-width */
  height: 100vh;
  /* Dark charcoal instead of pure black */
  background-color: #1c1c1e; 
  color: #e0e0e0; /* Light grey text */
  /* Softer shadow */
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.35); 
  padding: 25px 30px; /* Adjusted padding */
  padding-top: 55px; /* More padding top to avoid close button */
  box-sizing: border-box;
  z-index: 120; 
  transform: translateX(100%); 
  transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1); /* Standard ease-out */
  display: flex;
  flex-direction: column;
  gap: 25px; /* Increased gap slightly */
}

.major-menu.open {
  transform: translateX(0); 
}

.major-menu h2 {
  margin-top: 0;
  margin-bottom: 0px; /* Reduced margin */
  color: #ffffff;
  font-size: 1.4rem; /* Slightly smaller */
  font-weight: 600;
}

.major-menu p {
  font-size: 0.9rem; /* Slightly smaller */
  color: #a0a0a0; /* Lighter grey for secondary text */
  margin-bottom: 10px; /* Reduced margin */
}

/* --- Menu Close Button --- */
.menu-close-button {
  position: absolute; 
  top: 18px;          /* Adjusted position */
  right: 20px;         
  background: none;
  border: none;
  font-size: 1.8rem;   /* Slightly smaller X */
  line-height: 1;      
  color: #aaa;         /* Lighter grey */
  cursor: pointer;
  padding: 8px;        /* Increased padding area */
  border-radius: 50%; /* Make hover area round */
  z-index: 1;          
  transition: color 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
}

.menu-close-button:hover {
  color: #ffffff;          
  background-color: rgba(255, 255, 255, 0.1); /* Subtle background on hover */
  transform: rotate(90deg); /* Rotate effect on hover */
}


/* --- Dropdown Styling --- */
.major-select-dropdown {
  width: 100%;
  padding: 14px 18px; /* Increased padding */
  border: 1px solid #444; /* Darker border */
  border-radius: 6px; /* Slightly less rounded */
  /* Dark background matching menu theme */
  background-color: #2a2a2e; 
  font-size: 0.95rem;
  color: #e0e0e0; /* Light text */
  cursor: pointer;
  appearance: none; 
  -webkit-appearance: none;
  -moz-appearance: none;
  /* Updated SVG arrow with white fill */
  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
  background-repeat: no-repeat;
  background-position: right 18px center; /* Adjusted position */
  background-size: 10px auto; /* Slightly smaller arrow */
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.major-select-dropdown:focus {
  outline: none;
  border-color: #666; /* Slightly lighter border on focus */
  box-shadow: 0 0 0 2px rgba(100, 150, 255, 0.2); /* Subtle focus ring */
}


/* --- Duck Button --- */
.chat-duck-button {
  position: fixed;       
  bottom: 30px; /* More space */         
  right: 30px;  /* More space */          
  width: 60px;  /* Slightly smaller */         
  height: 60px;          
  background-color: #ffffff; 
  border-radius: 50%;    
  border: none;          
  padding: 0;           
  cursor: pointer;       
  display: flex;        
  align-items: center;
  justify-content: center;
  overflow: hidden;      
  z-index: 118;          
  transition: transform 0.3s ease, box-shadow 0.3s ease; 
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Subtle resting shadow */
}

.chat-duck-button:hover {
  transform: scale(1.1); /* Reduced scale slightly */
  /* Brighter, slightly softer glow */
  box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.7); 
}

.chat-duck-button canvas {
   width: 100% !important;  
   height: 100% !important; 
   display: block;         
}